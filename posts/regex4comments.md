#正则表达式匹配注释

- time: 2014-09-04 12:00
- tags: 正则

---
主要是针对以下几种注释
1、行注释：//
2、块注释：/**/
3、行注释：#

```Python
(?<!:)\/\/.*|#.*|\/\*(.|\s)*?\*\/
```

这个正则表达式由"|"分割成三部分：

第一部分、

```Python
(?<!:)\/\/.*
```

用来匹配//单行注释，同时通过***(?<!:)***反向否定了:与//衔接的情况，从而避免命中各种网络协议。
这里边涉及的反向否定预查实际上是正则的***模式匹配***的高级用法了，模式匹配总共有：(pattern)，(?:pattern)，(?=pattern)，(?!pattern)，(?<=pattern)，(?<!pattern)六种形式，可以参阅我在后边推荐的百度百科相关文章。

第二部分、

```Python
#.*
```

很简单用来匹配#号注释。

第三部分、

```Python
\/\*(.|\s)*?\*\/
```

用来匹配前后是斜杠星的块状注释，中间是文字或空白字符（空格、制表符、换页符等等）。
其中有一个符号值得注意一下：***?*** 问号。问号和前边*组成 *? 代表***非贪婪匹配***，如果只有*那就是贪婪匹配，就会出现两个注释块中间的正文也被匹配上去的情况。





文中正则来源：<a href="http://www.cnblogs.com/xiziyin/archive/2012/01/25/2329350.html">传送门</a>
关于正则非常棒的资料：<a href="http://baike.baidu.com/view/94238.htm?fr=aladdin">百度百科</a>
贪婪与非贪婪模式：<a href="http://blog.csdn.net/lxcnn/article/details/4756030">传送门</a>
好用的在线正则工具：<a href="http://www.正则r.com/v1/">传送门</a>
